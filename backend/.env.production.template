# =============================================================================
# RunningCoach Production Environment Template
# =============================================================================
# Copy this to Railway environment variables
# Railway Dashboard -> Your Project -> Variables

# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------
APP_NAME=RunningCoach
APP_VERSION=0.1.0
DEBUG=false
API_PREFIX=/api/v1
ENVIRONMENT=production

# -----------------------------------------------------------------------------
# Database - Neon (Required)
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql+asyncpg://USER:PASSWORD@HOST/DATABASE?ssl=require
DATABASE_ECHO=false

# -----------------------------------------------------------------------------
# Redis - Railway Redis Add-on or Upstash
# -----------------------------------------------------------------------------
# Option 1: Railway Redis (add Redis service to your project)
# REDIS_URL will be auto-injected as REDIS_URL
# Option 2: Upstash (external)
REDIS_URL=redis://default:PASSWORD@HOST:PORT

# -----------------------------------------------------------------------------
# Session & Security (Generate secure random values!)
# -----------------------------------------------------------------------------
# Generate with: python -c "import secrets; print(secrets.token_hex(32))"
SESSION_SECRET=GENERATE_SECURE_64_CHAR_HEX
SECRET_KEY=GENERATE_SECURE_64_CHAR_HEX
SESSION_TTL_SECONDS=604800
COOKIE_SECURE=true
COOKIE_SAMESITE=none

# -----------------------------------------------------------------------------
# Clerk Authentication (Required)
# -----------------------------------------------------------------------------
CLERK_PUBLISHABLE_KEY=pk_live_YOUR_KEY
CLERK_SECRET_KEY=sk_live_YOUR_KEY
CLERK_WEBHOOK_SECRET=whsec_YOUR_SECRET

# -----------------------------------------------------------------------------
# Cloudflare R2 Storage (Required)
# -----------------------------------------------------------------------------
R2_ACCOUNT_ID=YOUR_ACCOUNT_ID
R2_ACCESS_KEY=YOUR_ACCESS_KEY
R2_SECRET_KEY=YOUR_SECRET_KEY
R2_BUCKET_NAME=runningcoach

# -----------------------------------------------------------------------------
# Garmin Connect (Required for sync)
# -----------------------------------------------------------------------------
# Generate encryption key: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
GARMIN_ENCRYPTION_KEY=YOUR_FERNET_KEY
GARMIN_BACKFILL_DAYS=0
GARMIN_SAFETY_WINDOW_DAYS=3
FIT_STORAGE_PATH=/tmp/fit_files

# -----------------------------------------------------------------------------
# AI Configuration (Required)
# -----------------------------------------------------------------------------
AI_PROVIDER=google
GOOGLE_AI_API_KEY=YOUR_GOOGLE_AI_KEY
GOOGLE_AI_MODEL=gemini-2.5-flash-lite
# Fallback
OPENAI_API_KEY=YOUR_OPENAI_KEY
OPENAI_MODEL=gpt-4o-mini
AI_MAX_TOKENS=2000

# -----------------------------------------------------------------------------
# RAG Settings
# -----------------------------------------------------------------------------
RAG_ENABLED=true
RAG_TOP_K=3
RAG_MIN_SCORE=0.3

# -----------------------------------------------------------------------------
# Strava (Optional)
# -----------------------------------------------------------------------------
STRAVA_CLIENT_ID=
STRAVA_CLIENT_SECRET=
STRAVA_REDIRECT_URI=https://YOUR_DOMAIN/strava/callback
STRAVA_ENCRYPTION_KEY=

# -----------------------------------------------------------------------------
# CORS - Update with your frontend domain
# -----------------------------------------------------------------------------
CORS_ORIGINS=https://YOUR_FRONTEND_DOMAIN.railway.app,https://your-custom-domain.com
